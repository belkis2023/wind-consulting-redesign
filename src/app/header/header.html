<nav
  #navbar class="!fixed top-0 h-20 left-0 w-full z-50 bg-white
  flex justify-between !items-center shadow-md gap-12 !px-10 lg:!px-16
  md:justify-start navbarBackground text-center">

  <!-- The logo -->
  <div #mainContent class="text-xl font-bold flex-shrink-0">
    <img src="logo-wind.png" alt="logo" class="h-20 w-32
        xs:w-[50px] xs:h-[50px]
        sm:h-16 sm:w-30" />
  </div>

  <!-- Desktop View -->

  <!-- the links on the navbar -->
  <div #mainContent class="hidden md:flex items-center gap-6 text-primary">
    <div *ngFor="let service of Services">
      <a href="#" class="!block !text-links-blue !py-2 !text-l
        !font-medium transition-colors !no-underline">
        {{ service }}
      </a>
    </div>

  </div>

  <!-- Contact us + Search button -->
  <div #contactUs class="hidden md:flex items-center gap-6 text-primary ml-auto">

    <!-- The contact us button -->
    <div *ngIf="showContactUsButton">
      <app-button-with-background backgroundImageUrl="background-images/generic-background/background1.svg"
        label="Contacter Nous" width="w-48" height="h-10"
        [logo]=true logoSize="size-10" backgroundPosition="bottom">

      </app-button-with-background>
    </div>

    <!-- the search button on desktop view -->
    <button (click)="toggleDesktopSearch()">
      <div #mainContent *ngIf="!isSearchOpen">
        <app-circular-button  icon="search" size="w-12 h-12" strokeColor="stroke-links-blue"
          [strokeWidth]=2></app-circular-button>
      </div>

      <!-- Show X when search is open -->
      <div *ngIf="isSearchOpen">
        <app-circular-button icon="x-mark" size="w-12 h-12" strokeColor="stroke-links-blue"
          [strokeWidth]=2></app-circular-button>
      </div>
    </button>
  </div>

  <!-- Mobile View -->

  <!-- 1-Hamburger menu-->
  <div class="md:hidden order-[-1]">
    <app-hamburger-menu [(isMenuOpen)]="isMenuOpen"></app-hamburger-menu>
  </div>

  <!-- 2-the search bar in the mobile view-->
  <div class="md:hidden inline-block">
    <button (click)="toggleMobileSearch()">
      <!-- Show search when menu is closed -->

      <div *ngIf="!isSearchOpen">
        <app-circular-button icon="search" [outline]="true" outlineColor="border-links-blue" size="w-12 h-12"
          [strokeWidth]=2 outlineWidth="border-2" strokeColor="stroke-links-blue">
        </app-circular-button>
      </div>

      <!-- Show X when search is open -->

      <div *ngIf="isSearchOpen">
        <app-circular-button icon="x-mark" strokeColor="stroke-links-blue" [strokeWidth]=2 [outline]=true
          outlineWidth="border-2" outlineColor="border-links-blue" size="w-12 h-12">
        </app-circular-button>
      </div>
    </button>
  </div>

</nav>

<!-- Mobile + desktop Menu search open -->
<!-- here is the logic: - if search is cliked on either desktop or mobile we show the search edge-to-edge input-->
<div #searchBar class="fixed bg-white left-0 right-0 z-50 h-20" [ngClass]="{
       'block': isSearchOpen,
       'hidden': !isSearchOpen,
     }">
  <!-- Search input -->
  <div class="relative flex !w-full">
    <div class="!w-full">
      <input type="text" placeholder="Quel Sujet Vous IntÃ©resse?"
      class="w-full absolute pl-12 h-20 text-gray-700 bg-gray-100
        focus:outline-none focus:ring-2
        focus:ring-wind-blue focus:border-transparent duration-200
        rounded-none
        sm:pr-20" #searchInput />
    </div>

    <!-- Mobile Search -->
    <!-- Clickable search icon on the right -->

    <div class="md:hidden absolute !right-0 top-1/4 translate-y-1/4 pr-10">
      <app-circular-button icon="search" [outline]="true" outlineColor="border-links-blue" bgColor="bg-links-blue"
        size="w-12 h-12" [strokeWidth]=2 outlineWidth="border-2" strokeColor="stroke-white"
        bgImage="background-images/generic-background/background1.svg">
      </app-circular-button>
    </div>


    <!-- Desktop Search -->
    <div class="hidden md:block md:absolute md:right-28 lg:right-32 translate-y-1/3">
      <app-button-with-background backgroundImageUrl="background-images/generic-background/background1.svg"
        label="Recherche" width="w-48" height="h-10" icon="search" strokeColor="stroke-white" [strokeWidth]=2
        [logo]=true backgroundPosition="bottom" logoSize="size-10">

      </app-button-with-background>
    </div>

  </div>
</div>


<!-- Mobile Menu items -->
<div [style.marginTop.px]="searchBarHeight" class="fixed md:hidden bg-white shadow-b-lg left-0 right-0 z-50" [ngClass]="{
       'block': isMenuOpen,
       'hidden': !isMenuOpen
     }">
  <app-mob-menu-items [services]="Services"></app-mob-menu-items>
</div>
